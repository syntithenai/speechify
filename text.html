<script src="jquery.js" type="text/javascript"></script>
<script src="jquery.speechify.js" type="text/javascript"></script>
<link rel="stylesheet" href="jquery.speechify.css" type="text/css" media="all" />
<script src="springy.js"></script><script src="springyui.js"></script>
<script src="springymap.js"></script>
<link rel="stylesheet" href="springymap.css" type="text/css" media="all" />
<script src="springymap.htmlrenderer.js"></script>
<script src="springymap.aframerenderer.js"></script>
<script src="aframe.min.js"></script>
<script src="aframe-bmfont-text-component.min.js" ></script>
<body>
<div id="speechcontrols" ></div>
<div id="vrrender"  >
<a-scene embedded >
<a-plane color="lightgrey" height="20" width="20" rotation="-90 0 0" ></a-plane>
	
</a-scene>
</div>
<div id="textrender" style="display: none;" ></div>
<canvas id="springydemo" width="800" height="600" style="display: none;"  ></canvas>

<script>
//  ADD TO A-SCENE ABOVE inspector="url: https://aframe.io/aframe-inspector/dist/aframe-inspector.min.js"
// exposed for development, move inside jquery block for prod--
var graph = null;
// nodes, edges, nodeSet,
// getSelected(), setSelected(n), addNode(node), newNode(data), addEdge(e), addEdges([e]) new Springy.Node(), new Springy.Edge, findNode(label), findNodes(label), detachNode, removeNode(n), findEdges(from,to), removeEdge(e)
var renderer = null;
var renderAs='text';
//var renderAs='map';
//var renderAs='text';
//  graphChanged,
var springy = null;
var speechify = null;
var mapName = '';
$.fn.speechify.relPath='../';


jQuery(function(){
	graph = new Springy.Graph();
	renderer = SpringyMap.renderMapAs([1,{'$type':renderAs}]);
	SpringyMap.getMap();
	renderer.graphChanged();
	var neverStopListening = false;
	if (renderAs == "vr") neverStopListening = true;
	speechify = $("#speechcontrols").speechify({
		'grammarTree' : SpringyMap.grammarTree,
		//'neverStopListening' : neverStopListening,
		//'neverPauseListening' : true,
		//'maxRestartBeforePause' : 2,
		//'maxRestartBeforeStop' : 4,
	});
	
});


</script>
</body>
